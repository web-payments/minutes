<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
      class="wf-adelle1adelle2-n6-active wf-active"> 
 
<head> 
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" /> 
  <title>PaySwarm - Teleconferences</title> 
 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
 
  <link rel="stylesheet" href="../../css/1140.css" type="text/css" media="screen" /> 
  <!--[if lte IE 9]>
  <link rel="stylesheet" href="../css/ie.css" type="text/css" media="screen" />
  <![endif]--> 
  <link rel="stylesheet" href="../../css/typeimg.css" type="text/css" media="screen" /> 
  <link rel="stylesheet" href="../../css/smallerscreen.css" media="only screen and (max-width: 1023px)" /> 
  <link rel="stylesheet" href="../../css/mobile.css" media="handheld, only screen and (max-width: 767px)" /> 
  <link rel="stylesheet" href="../../css/layout.css" type="text/css" media="screen" /> 
  <link rel="shortcut icon" type="image/png" href="../../images/payswarm-icon.png" /> 
  
<style type="text/css">
h1 {
   margin-top: 24px;
   margin-bottom: 14px;
}

.header {
   margin-top: 0px;
   margin-bottom: 14px;
}

ol {
   margin-bottom: 0em;
}

li {
   margin-left: 1.5em;
   margin-bottom: 0em;
}
#content {
   margin-left: 15%;
   margin-right: 15%;
}

.summary {
   margin-left: 10%
   margin-right: 10%
}

.name {
   font-weight: bold;
}

.information {
   font-style: italic;
}  

.comment-continuation {
   margin-left: 2em;
}

dt {
   font-style: oblique;
}

dd {
   margin-left: 20px;
}

  </style>
  
</head> 
<body> 
 
<div class="titlebar"> 
   <h1 class="header">PaySwarm</h1> 
</div> 

  <div id="content"> 
 
  <div class="row"> 
    <div class="twelvecol last"> 

<h1>Web Payments Community Group Telecon</h1>
<h2>Minutes for 2013-08-22</h2>
<div class="summary">
<dl>
<dt>Agenda</dt><dd><a href="http://lists.w3.org/Archives/Public/public-webpayments/2013Aug/0040.html">http://lists.w3.org/Archives/Public/public-webpayments/2013Aug/0040.html</a></dd>
<dt>Topics</dt><dd><ol><li><a href="#topic-1">Updates from Bitcoin Community</a><li><a href="#topic-2">Update from Mozilla Payments Meeting</a><li><a href="#topic-3">Update on GSoC Student Progress</a><li><a href="#topic-4">Secure Messaging vs. Javascript Object Signing and Encryption</a><li><a href="#topic-5">JSON Web Algorithms (JWA)</a><li><a href="#topic-6">JSON-LD Advantages over JSON</a><li><a href="#topic-7">JSON Web Key (JWK)</a><li><a href="#topic-8">JSON Web Tokens (JWT) vs. Secure Messaging</a><li><a href="#topic-9">JSON Web Encryption (JWE) vs. Secure Messaging</a></ol></dd><dt>Chair</dt><dd>Manu Sporny</dd>
<dt>Scribe</dt><dd>Dave Longley</dd>
<dt>Present</dt><dd>Dave Longley, Manu Sporny, Kumar McMillan, Andrei Oprea, David I. Lehn, Brent Shambaugh</dd>
<dt>Audio Log</dt><dd><div><a href="audio.ogg">audio.ogg</a></div>
<div><audio controls="controls" preload="none">
<source src="audio.ogg" type="audio/ogg" />Warning: Your browser does not support the HTML5 audio element, please upgrade.</div></dd>
<div class="information">Dave Longley is scribing.</div>
<div class="comment"><span class="name">Manu Sporny</span>:  Our agenda today is an update on project statuses in Bitcoin, Mozilla payments, GSoC, and then on to the analysis of Secure Messaging vs. JOSE encryption and digital signature stacks. [scribe assist by Manu Sporny]</div>
<h1 id="topic-1" class="topic">Topic: Updates from Bitcoin Community</h1>
<div class="comment"><span class="name">Manu Sporny</span>:  i've been talking to a number of people in the Bitocin community and at the Bitcoin foundation</div>
<div class="comment"><span class="name">Manu Sporny</span>:  i've been talking to the education subgroup there, they're are trying to legitimize bitcoin. General community is trying to take on regulatory hurdles, etc., there's a lot of movement in the bitcoin community you just can't really see it, they are fairly insular, they are very focused on the bitcoin community not the larger web or how to get this integrated into the browsers, etc, but the people i've been speaking to have been very interested in trying to get bitcoin into the browser</div>
<div class="comment"><span class="name">Manu Sporny</span>:  Been talking to several CEOs of bitcoin companies, people doing processing of bitcoins, bitcoin developers, a nice representation of the full spectrum of what's needed to make Bitcoin viable long-term.</div>
<div class="comment"><span class="name">Manu Sporny</span>:  about 30% of those I'm speaking to are dabbling in bitcoin but very interested in the web payments work</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the inside bitcoin conference led to a lot of good press and got them informed on what we're doing here. I'm getting a lot of private emails and having a number of private conversations with people who want to join in the work here</div>
<h1 id="topic-2" class="topic">Topic: Update from Mozilla Payments Meeting</h1>
<div class="comment"><span class="name">Kumar McMillan</span>:  Basically a meeting to focus on FirefoxOS payments implementation for Firefox Marketplace. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  Very much focused on short term stuff that we're doing - expanding to some new payment providers, Latin America, what it means for our own system wrt. multiple backends. Not anything more than that. If you're in one country, we need to use a different operator billing method, stuff like that. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  Focused on our product, UX review. Since we had engineers and designers in the same room, not a lot to report. What's interesting to this group is API related stuff, we didn't focus on that that much. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  More people at Mozilla are now looped in on what we're doing here in the Web Payments group, not a lot to share right now, but might have some changes coming down the pipeline when they develop. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Manu Sporny</span>:  we've been put in touch with the folks at the open badges work at mozilla (chris macavoy)</div>
<div class="comment"><span class="name">Manu Sporny</span>:  they said they were interested in JSON-LD and the digital signatures stuff, and i think you may have been the one that prompted them to start thinking about it</div>
<div class="comment"><span class="name">Manu Sporny</span>:  i've got a call with them later today about all this</div>
<div class="comment"><span class="name">Manu Sporny</span>:  i've been talking to the identity people about signatures as well</div>
<div class="comment"><span class="name">Manu Sporny</span>:  but they are a bit busy at the moment</div>
<h1 id="topic-3" class="topic">Topic: Update on GSoC Student Progress</h1>
<div class="comment"><span class="name">Manu Sporny</span>:  any updates andrei?</div>
<div class="comment"><span class="name">Andrei Oprea</span>:  The demo is ready to go online now. I'm going to start tracking my progress via github issues. I need to allow modifying the assets. Have the assets resigned. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Andrei Oprea</span>:  I have some things to fix with sessions and cookies. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Andrei Oprea</span>:  When you get the callback from the marketplace, I need to update stuff. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Manu Sporny</span>:  we'll get you setup on a VM here. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Andrei Oprea</span>:  Sounds good, once a day updates would be good. [scribe assist by Manu Sporny]</div>
<h1 id="topic-4" class="topic">Topic: Secure Messaging vs. Javascript Object Signing and Encryption</h1>
<div class="comment"><span class="name">Manu Sporny</span>:  i tried to be as thorough as i could, outlining all the things that i think are issues with the JOSE spec and the advantages Secure Messaging/HTTP Keys spec gives us</div>
<div class="comment"><span class="name">Manu Sporny</span>:  so this is a discussion about where the web commerce api should go</div>
<div class="comment"><span class="name">Manu Sporny</span>:  do we want to continue using the jwk/signature stuff or go with the JSON-LD signature stuff</div>
<div class="comment"><span class="name">Manu Sporny</span>:  so the conversation has a bit to do with JSON-LD and we've been talking about moving closer to using JSON-LD at least by using URLs in the data/messages, etc.</div>
<div class="comment"><span class="name">Manu Sporny</span>:  is there any particular way to go through this, top-down through the blog post or do you want to discuss particular things?</div>
<div class="comment"><span class="name">Manu Sporny</span>: <a href="http://manu.sporny.org/2013/sm-vs-jose/">http://manu.sporny.org/2013/sm-vs-jose/</a></div>
<div class="comment"><span class="name">Kumar McMillan</span>:  no preference from me, just looking back over the post</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  my main summary is that i just had some questions about the signature/encryption algorithms and those were answered and i just liked the advantages that JSON-LD provides around URLs there are definitely concrete problems in the current implementation that JSON-LD solves</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  it would be helpful for other people on the call to go through</div>
<h1 id="topic-5" class="topic">Topic: JSON Web Algorithms (JWA)</h1>
<div class="comment"><span class="name">Manu Sporny</span>:  the main difference between --- at a very high level i think the JOSE group is trying to create a flexible way of expressing cryptography parameters and the use of them in JSON, it's kind of the kitchen sink approach, to support everything in common use today, which is one approach</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the other major approach is what the Secure Messaging spec does</div>
<div class="comment"><span class="name">Manu Sporny</span>:  it tries to boil everything that's out there down to best practices</div>
<div class="comment"><span class="name">Manu Sporny</span>:  while also understanding that those will have to change in the future</div>
<div class="comment"><span class="name">Manu Sporny</span>:  cryptography is a constant battle of creating schemes that get broken and creating new ones</div>
<div class="comment"><span class="name">Manu Sporny</span>:  whatever we're doing now will be broken in a few years</div>
<div class="comment"><span class="name">Manu Sporny</span>:  we're trying to balance that against implementation complexity</div>
<div class="comment"><span class="name">Manu Sporny</span>:  one of the things with JWT and the JOSE stack is that it requires you to implement quite a few cryptographic mechanisms, which isn't too technically difficult, dave longley has implemented a crypto suite in javascript in <a href="http://github.com/digitalbazaar/forge,">http://github.com/digitalbazaar/forge,</a> it has pkcs, symmetric, asymmetric crypto, etc. it takes a lot of time and expertise</div>
<div class="comment"><span class="name">Manu Sporny</span>:  we don't want to push off a lot of this complexity to implementers because the more there is, the more you have to implement, the more complexity, etc.</div>
<div class="comment"><span class="name">Manu Sporny</span>:  rather than us just saying you need this hash and this digital signature type</div>
<div class="comment"><span class="name">Manu Sporny</span>:  and leaving it at that, so the main difference is that the Secure Messaging stack tries to be simpler in providing best practices while still allowing algorithmic agility for switching in the future</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the JOSE stack does the kitchen sink approach and so there's a lot of complexity all at once</div>
<h1 id="topic-6" class="topic">Topic: JSON-LD Advantages over JSON</h1>
<div class="comment"><span class="name">Manu Sporny</span>: Advantages for JSON-LD:</div>
<div class="comment"><span class="name">Manu Sporny</span>: A universal identifier mechanism for JSON objects via the use of URLs.</div>
<div class="comment"><span class="name">Manu Sporny</span>: A way to disambiguate JSON keys shared among different JSON documents by mapping them to URLs via a context.</div>
<div class="comment"><span class="name">Manu Sporny</span>: A standard mechanism in which a value in a JSON object may refer to a JSON object on a different document or site on the Web.</div>
<div class="comment"><span class="name">Manu Sporny</span>: A way to associate datatypes with values such as dates and times.</div>
<div class="comment"><span class="name">Manu Sporny</span>: The ability to annotate strings with their language. For example, the word âchatâ means something different in English and French and it helps to know which language was used when expressing the text.</div>
<div class="comment"><span class="name">Manu Sporny</span>: A facility to express one or more directed graphs, such as a social network, in a single document. Graphs are the native data structure of the Web.</div>
<div class="comment"><span class="name">Manu Sporny</span>: A standard way to map external JSON application data to your application data domain.</div>
<div class="comment"><span class="name">Manu Sporny</span>: A deterministic way to generate a hash on JSON data, which is helpful when attempting to figure out if two data sources are expressing the same information.</div>
<div class="comment"><span class="name">Manu Sporny</span>: A standard way to digitally sign JSON data.</div>
<div class="comment"><span class="name">Manu Sporny</span>: A deterministic way to merge JSON data from multiple data sources.</div>
<div class="comment"><span class="name">Manu Sporny</span>:  an asset being combined with a listing from two separate sites and combining them together is something that JSON-LD can do natively</div>
<div class="comment"><span class="name">Manu Sporny</span>:  you can convert JSON documents and apply compaction/expansion and get data into a format your application will understand, so you don't have to write code to map things by hand</div>
<div class="comment"><span class="name">Manu Sporny</span>:  if someone publishes a JSON-LD context for twitter and someone publishes a context for the activity streams work, then converting from one to the other is a matter of a API calls</div>
<div class="comment"><span class="name">Dave Longley</span>:  To clarify - to map one thing to another, it's just an API call. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Manu Sporny</span>:  JSON-LD provides ways to transform data to get it into a format you want that people have found useful</div>
<div class="comment"><span class="name">Manu Sporny</span>:  compaction, expansion, flattening, etc</div>
<div class="comment"><span class="name">Dave Longley</span>:  The hashing mechanism is important because JSON-LD allows you to markup data in a variety of different ways, normalization allows you to take documents that may be the same and do a comparison to see if they are actually the same. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Manu Sporny</span>:  it's a comparison of the data in the document, not the layout of the document</div>
<div class="comment"><span class="name">Manu Sporny</span>:  it checks to see if the information in the documents is the same, which is a pretty big advance</div>
<div class="comment"><span class="name">Manu Sporny</span>:  you could use JSON-LD with the JOSE stack, but because there's a digital signature mechanism in there, the end result is that whenever you pass information from one website to another, you don't have to pass the serialized form of that information</div>
<div class="comment"><span class="name">Manu Sporny</span>:  if you look at a JWT they base64 encode the data being signed, and the reason they may have done that is to avoid the hard normalization problem</div>
<div class="comment"><span class="name">Manu Sporny</span>:  because its' a very complex problem, and we thought it was worth addressing that problem, because it means you can do digital signatures on the information itself and the syntax that you use to express that data doesn't matter</div>
<div class="comment"><span class="name">Manu Sporny</span>:  using JSON-LD you can generate a digital signature for that data and then express the information in another way elsewhere</div>
<div class="comment"><span class="name">Manu Sporny</span>:  use RDFa for instance, on a web page to express data that is expressed as JSON-LD in another way (or maybe microdata, etc)</div>
<div class="comment"><span class="name">Manu Sporny</span>:  if we're wrong about a particular format/syntax we can change it later and the digital signatures will still wrok</div>
<div class="comment"><span class="name">Manu Sporny</span>:  with JWT the requirement to transmit the data is always there</div>
<div class="comment"><span class="name">Manu Sporny</span>:  Does that make sense, Kumar?</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  yes, i could follow that, i've been following your posts and it makes sense to me</div>
<div class="comment"><span class="name">Dave Longley</span>:  It also helps because different clients may request different types of data from that URL. If a client only reads JSON-LD, or RDFa, different clients can get the data in different ways. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Dave Longley</span>:  It's also worth pointing out that we have multiple implementations for this now. It works in the PaySwarm developers site, meritora, PHP, JavaScript, and Python implementations of the JSON-LD digital signature stuff. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Dave Longley</span>:  We also have an older C++ implementation of this stuff that we could update if needed. [scribe assist by Manu Sporny]</div>
<h1 id="topic-7" class="topic">Topic: JSON Web Key (JWK)</h1>
<div class="comment"><span class="name">Manu Sporny</span>:  so the JWA stuff is a bad of cryptographic primitives that the JOSE stuff needs that the Secure Messaging approach doesn't need</div>
<div class="comment"><span class="name">Manu Sporny</span>:  (different approaches)</div>
<div class="comment"><span class="name">Manu Sporny</span>:  so JWK is a way of expressing keys in JSON</div>
<div class="comment"><span class="name">Manu Sporny</span>: JOSE JWK key format: {</div>
<div class="comment"><span class="name">Manu Sporny</span>: "keys": [{</div>
<div class="comment"><span class="name">Manu Sporny</span>: "kty":"RSA",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "n": "0vx7agoe ... DKgw",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "e":"AQAB",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "alg":"RS256",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "kid":"2011-04-29"</div>
<div class="comment"><span class="name">Manu Sporny</span>: }]</div>
<div class="comment"><span class="name">Manu Sporny</span>: }</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the information is broken down into its components</div>
<div class="comment"><span class="name">Manu Sporny</span>:  this is an RSA key</div>
<div class="comment"><span class="name">Manu Sporny</span>: Secure Messaging key format: {</div>
<div class="comment"><span class="name">Manu Sporny</span>: "@context": "<a href="https://w3id.org/security/v1",">https://w3id.org/security/v1",</a></div>
<div class="comment"><span class="name">Manu Sporny</span>: "@id": "<a href="https://example.com/i/bob/keys/1",">https://example.com/i/bob/keys/1",</a></div>
<div class="comment"><span class="name">Manu Sporny</span>: "@type": "Key",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "owner": "<a href="https://example.com/i/bob",">https://example.com/i/bob",</a></div>
<div class="comment"><span class="name">Manu Sporny</span>: "publicKeyPem": "-----BEGIN PRIVATE KEY-----\nMIIBG0BA...OClDQAB\n-----END PRIVATE KEY-----\n"</div>
<div class="comment"><span class="name">Manu Sporny</span>: }</div>
<div class="comment"><span class="name">Manu Sporny</span>:  Secure Messaging deviates from JWK in a few ways, first there's a URL that identifies the key so you can always find out which key people are talking about (you can use UUID if you want to etc, any IRI, but URL is best practice)</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the other thing specified is an identity associated with the key, also a URL right now, maybe email addresses could be used in the future</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the key idea is that you can find out who the owner of the key is</div>
<div class="comment"><span class="name">Manu Sporny</span>:  you should be able to go to a URL that also asserts that bob owns the key</div>
<div class="comment"><span class="name">Manu Sporny</span>:  once there is a two-way association is set up you can be sure the key is owned by the identity</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  to clarify, the persona idea is something is at a domain, so it could be a phone number at a domain, etc.</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  To clarify, the Persona approach can be something@domain.com - so 555-555-5555@tmobile.com [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  it's really about the domain in persona</div>
<div class="comment"><span class="name">Manu Sporny</span>:  we talked with some of the persona folks and they asked if we were interested in using persona for identity, for example could you just do login with persona on websites, and we could so long as we could attach other information to the identity assertion</div>
<div class="comment"><span class="name">Manu Sporny</span>:  we would like to be able to include things like home address/shipping address, etc.</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the payswarm identity spec lets you associated arbitrary data and we need some info for the payment process in payswarm</div>
<div class="comment"><span class="name">Manu Sporny</span>:  and we don't know if persona can support that</div>
<div class="comment"><span class="name">Manu Sporny</span>:  right now we're using URLs instead of emails because it's much easier to just dereference to get more info (and assert key ownership)</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  the persona idea will be that the domain has .well-known with extra information, but that's separate from storing preferences, so the idea behind storing preferences for payment/identity is something that persona is addressing right now because they are pretty close to landing what is code named PICL</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  which is a way to sync profile data, which will start with firefox profile data, which is something they are actively working on now, so you can associate arbitrary data with an identity, i know it's pretty experimental right now, still in the works for a wihle</div>
<div class="comment"><span class="name">Manu Sporny</span>:  so that's something that we're trying to coordinate with the identity team at mozilla but it's been kind of difficult, it didn't seem like a priority for them 3-6 months ago, we'll try and ping them again</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  3-6 months ago, yeah, that was on the horizon, syncing profile data is a priority now, i've seen a full working prototype of it, i've seen people using firefox syncing things with persona servers and it's in implemtnation for production stage now</div>
<div class="comment"><span class="name">Manu Sporny</span>:  so when you log in i guess what you do is say you're ok with sharing your home address/whatever with the site in question?</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  i don't know if they are working on the exchange between identity providers yet, i think they may be working at protocol level right now, there's no use case for syncing profile data for sharing with an identity provider i don't think yet</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the other approach that we're thinking of here is ... the web payments work will require getting shipping addresses to merchants at some point ... the other idea we were talking about was having the vendor say, hey i need a shipping address, and when someone goes to buy the window for the purchase would say the vendor needs the shipping address and the buyer has to consent or change their shipping address or cancel the purchase</div>
<div class="comment"><span class="name">Manu Sporny</span>:  at that point the shipping address might be embedded into the contract to get it to the vendor</div>
<div class="comment"><span class="name">Manu Sporny</span>:  that might be better because there's not a requirement for persona to deal with that information</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  i don't know if persona is going to get involved in being a gatekeeper of that information, btu one thing that's getting a lot of interest, there's pressure on mozilla to implement request auto-complete</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  i don't know if it will happen in its current form but it sounds like this might be a perfect tool for that to happen</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  where someone asks for a shipping address and you already have it in your browser on your client, that is a little different because you're putting it into a contract and you can't take it from a browser and put it into a contract because there's no URL</div>
<div class="comment"><span class="name">Manu Sporny</span>:  ok that's one of those issues floating out there we'll have to deal with at some point</div>
<div class="comment"><span class="name">Manu Sporny</span>:  going back to the key format, there's publicKeyPem</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the JWK approach breaks out the parameters for the key, we took a different approach</div>
<div class="comment"><span class="name">Manu Sporny</span>:  it's difficult for developers to understand what those parameters are and they'd rather cut and paste data</div>
<div class="comment"><span class="name">Manu Sporny</span>:  and pem is something every crypto library uses</div>
<div class="comment"><span class="name">Manu Sporny</span>:  instead of having to understand all the parameters, point on a curve, etc. which is what JWA does, instead it's in PEM format and we just expose stuff as PEM data on the web and you don't have to worry about you've copied the right information, left something out, etc.</div>
<div class="comment"><span class="name">Manu Sporny</span>:  that approach was seen as controversial in the WebID community because they thought that the most raw cryptographic form should be used, but we don't think that's developer friendly, we think copying info around as a blog with a clear beginning and end is better</div>
<div class="comment"><span class="name">Manu Sporny</span>:  ultimately the Secure Messing key format is simpler to understand and publish and you can put it on the web and another app/client can come along and do key discovery on it, key retrieval, verification, etc. all via that simple key format, it's just a doc on the web and you can do everything you need to using just a doc on the web following links in the doc</div>
<div class="comment"><span class="name">Manu Sporny</span>:  any questions?</div>
<div class="comment"><span class="name">Manu Sporny</span>:  next is JWT</div>
<h1 id="topic-8" class="topic">Topic: JSON Web Tokens (JWT) vs. Secure Messaging</h1>
<div class="comment"><span class="name">Manu Sporny</span>:  JWT is basically what most of mozilla uses right now to do digital signatures</div>
<div class="comment"><span class="name">Manu Sporny</span>:  it's a container format that you put claims into and then you digitally sign those tokens using the JWS spec</div>
<div class="comment"><span class="name">Manu Sporny</span>:  let me get an example</div>
<div class="comment"><span class="name">Manu Sporny</span>: JWTs look like this: {</div>
<div class="comment"><span class="name">Manu Sporny</span>: "iss": "joe",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "exp": 1300819380,</div>
<div class="comment"><span class="name">Manu Sporny</span>: "<a href="http://example.com/is_root":">http://example.com/is_root":</a> true</div>
<div class="comment"><span class="name">Manu Sporny</span>: }</div>
<div class="comment"><span class="name">Manu Sporny</span>: and Secure Messaging messages look like this: {</div>
<div class="comment"><span class="name">Manu Sporny</span>: "@context": "<a href="http://json-ld.org/contexts/person",">http://json-ld.org/contexts/person",</a></div>
<div class="comment"><span class="name">Manu Sporny</span>: "@type": "Person",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "name": "Manu Sporny",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "gender": "male",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "homepage": "<a href="http://manu.sporny.org/"">http://manu.sporny.org/"</a></div>
<div class="comment"><span class="name">Manu Sporny</span>: }</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the big difference between JWT and Secure Messaging is that JWT is a container format, and Secure Messaging doesn't need a container format, you just have information, digitally sign it, and include the signature in the data you're signing</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the core argument against JWT is that it's unnecessary with Secure Messaging</div>
<div class="comment"><span class="name">Manu Sporny</span>:  at this point, the Secure Messaging approach eliminates JWA (it doesn't need to be a 70 page spec at least), it doesn't need something like JWT, it just uses the JSON data using JSON-LD and includes the signature in the data</div>
<div class="comment"><span class="name">Manu Sporny</span>:  so the last two bits are JWE and JWS</div>
<h1 id="topic-9" class="topic">Topic: JSON Web Encryption (JWE) vs. Secure Messaging</h1>
<div class="comment"><span class="name">Manu Sporny</span>: JWE Encrypted JSON looks like this: {</div>
<div class="comment"><span class="name">Manu Sporny</span>: "protected": "eyJlbmMiOiJBMTI4Q0JDLUhTMjU2In0",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "unprotected": {"jku": "<a href="https://server.example.com/keys.jwks"},">https://server.example.com/keys.jwks"},</a></div>
<div class="comment"><span class="name">Manu Sporny</span>: "recipients": [{</div>
<div class="comment"><span class="name">Manu Sporny</span>: "header": {</div>
<div class="comment"><span class="name">Manu Sporny</span>: "alg":"RSA1_5"</div>
<div class="comment"><span class="name">Manu Sporny</span>: "kid":"2011-04-29",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "enc":"A128CBC-HS256",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "jku":"<a href="https://server.example.com/keys.jwks"">https://server.example.com/keys.jwks"</a></div>
<div class="comment"><span class="name">Manu Sporny</span>: },</div>
<div class="comment"><span class="name">Manu Sporny</span>: "encrypted_key": "UGhIOgu ... MR4gp_A"</div>
<div class="comment"><span class="name">Manu Sporny</span>: }]</div>
<div class="comment"><span class="name">Manu Sporny</span>: }],</div>
<div class="comment"><span class="name">Manu Sporny</span>: "iv": "AxY8DCtDaGlsbGljb3RoZQ",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "ciphertext": "KDlTtXchhZTGufMYmOYGS4HffxPSUrfmqCHXaI9wOGY",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "tag": "Mz-VPPyU4RlcuYv1IwIvzw"</div>
<div class="comment"><span class="name">Manu Sporny</span>: }</div>
<div class="comment"><span class="name">Manu Sporny</span>: for comparison this is what a Secure Messaging encrypted message looks like: {</div>
<div class="comment"><span class="name">Manu Sporny</span>: "@context": "<a href="https://w3id.org/security/v1",">https://w3id.org/security/v1",</a></div>
<div class="comment"><span class="name">Manu Sporny</span>: "@type": "EncryptedMessage2012",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "data": "VTJGc2RH ... Fb009Cg==",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "encryptionKey": "uATte ... HExjXQE=",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "iv": "vcDU1eWTy8vVGhNOszREhSblFVqVnGpBUm0zMTRmcWtMrRX==",</div>
<div class="comment"><span class="name">Manu Sporny</span>: "publicKey": "<a href="https://example.com/people/john/keys/23"">https://example.com/people/john/keys/23"</a></div>
<div class="comment"><span class="name">Manu Sporny</span>: }</div>
<div class="comment"><span class="name">Manu Sporny</span>:  the parameters aren't that different, you've got encryption key, iv, cipher text, the key difference here is that the Secure Messaging is much simpler, in that you just have base64-encoded data</div>
<div class="comment"><span class="name">Manu Sporny</span>:  with JWE you have headers, the keys expressed within the data, you've got unprotected keys outside of the message, etc.</div>
<div class="comment"><span class="name">Manu Sporny</span>:  it seems really hard(er) to work with</div>
<div class="comment"><span class="name">Manu Sporny</span>:  whereas with the Secure Messaging data you've just got data that is encrypted and one decryption mechanism that you apply to the encrypted data to get at it</div>
<div class="comment"><span class="name">Manu Sporny</span>:  at a high-level the difference is in how the JWE expresses the encryption parameters, because they dont' go with the "best practices" approach, there's more complexity, so you need headers that are like email headers and they can get complex, and the Secure Messaging spec says there's just one best practice mechanism for these things and then you don't have protected/unprotected info either</div>
<div class="comment"><span class="name">Manu Sporny</span>:  JWE lets you use lots of different types of encryption, but it's not really clear what that really buys you for the added complexity</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  just to clarify, if someone did want to make their own algorithm or a new one, they'd just make a custom context and host that at a URL</div>
<div class="comment"><span class="name">Manu Sporny</span>: Yeah, this is basically the only change you'd have to make: "@type": "<a href="http://mycrypto.com/algorithms/MySpecialAlgorithm"">http://mycrypto.com/algorithms/MySpecialAlgorithm"</a></div>
<div class="comment"><span class="name">Manu Sporny</span>:  they wouldn't even have to create a custom context at a URL if they didn't want to, they could just embed it</div>
<div class="comment"><span class="name">Dave Longley</span>:  If someone adds another one, and it becomes popular, then we just integrate it. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  right, i definitely think that highlights a major advantage, i guess that's JSON-LD that provides that advantage</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  With JWE, they have to incorporate a new algorithm in the spec for anyone to be able to use it. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Kumar McMillan</span>:  with JWE they would *have* to incorporate a new algorithm into the spec</div>
<div class="comment"><span class="name">David I. Lehn</span>:  Those types can have their own description as well. [scribe assist by Manu Sporny]</div>
<div class="comment"><span class="name">Manu Sporny</span>:  if you got to the security spec if you look up the type identifiers for GraphSignature2012 or EncryptedMessage2013/2012 (whatever it is) it breaks down the algorithms in use for you</div>
<div class="comment"><span class="name">Manu Sporny</span>:  if you use a JSON-LD agent to go to a URL you can extract the exact parameters you need</div>
<div class="comment"><span class="name">Manu Sporny</span>:  from the document</div>
<div class="comment"><span class="name">Manu Sporny</span>:  most people will just hard code it, which is fine</div>
<div class="comment"><span class="name">Brent Shambaugh</span>: bye</div>
       </div>
  </div>

<div class="container vspacing"> 
  <div class="row"> 
    <div class="threecol"> 
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a> 
    </div> 
    <div class="ninecol last"> 
      <p>&copy; 2013 Digital Bazaar, Inc. 
Website CSS created by <a href="http://cssgrid.net/">@andytlr</a> 
and is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/au/"> 
Creative Commons Attribution-ShareAlike 3.0 Australia License</a>. All other
website content is licensed under a
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"> 
Creative Commons Attribution-ShareAlike 3.0 License</a>
</p> 
    </div> 
  </div> 
</div> 
 
<script type="text/javascript"> 
 
  var _gaq = _gaq || [];
  _gaq.push(["_setAccount", "UA-1539674-7"]);
  _gaq.push(["_trackPageview"]);

  (function() {
    var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
    ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
    (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(ga);
  })();
 
</script>

</body>
</html>
